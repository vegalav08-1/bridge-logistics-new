# üîß –û—Ç—á–µ—Ç: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ –≥–∏–¥—Ä–∞—Ç–∞—Ü–∏–∏ –≤ PhotoThumbnail

## üéØ –ü—Ä–æ–±–ª–µ–º–∞
```
Error: Hydration failed because the initial UI does not match what was rendered on the server.
Expected server HTML to contain a matching <div> in <div>.
```

## üîç –ü—Ä–∏—á–∏–Ω–∞ –æ—à–∏–±–∫–∏
–û—à–∏–±–∫–∞ –≥–∏–¥—Ä–∞—Ç–∞—Ü–∏–∏ –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –∏–∑-–∑–∞ —É—Å–ª–æ–≤–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ `PhotoThumbnail`. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏ –∫–ª–∏–µ–Ω—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª—Å—è —Ä–∞–∑–Ω—ã–π HTML –∏–∑-–∑–∞:

1. **–£—Å–ª–æ–≤–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞** - `if (photoUrl)` —Å–æ–∑–¥–∞–≤–∞–ª —Ä–∞–∑–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É DOM
2. **–°–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏** - `isUploading` –º–æ–≥–ª–æ –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –º–µ–∂–¥—É —Å–µ—Ä–≤–µ—Ä–æ–º –∏ –∫–ª–∏–µ–Ω—Ç–æ–º
3. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞** - `photoUrl` –º–æ–≥ –±—ã—Ç—å —Ä–∞–∑–Ω—ã–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏ –∫–ª–∏–µ–Ω—Ç–µ

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### **1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**
```typescript
const [mounted, setMounted] = useState(false);

useEffect(() => {
  setMounted(true);
}, []);
```

### **2. –°—Ç–∞—Ç–∏—á–Ω—ã–π placeholder –¥–æ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**
```typescript
// –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç–∞—Ç–∏—á–Ω—ã–π placeholder –¥–æ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
if (!mounted) {
  return (
    <div className="w-16 h-16 rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center">
      <Camera className="w-6 h-6 text-gray-400" />
    </div>
  );
}
```

### **3. –£—Å–ª–æ–≤–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**
```typescript
if (photoUrl) {
  // –†–µ–Ω–¥–µ—Ä–∏–º —Ñ–æ—Ç–æ —Å –∫–Ω–æ–ø–∫–∞–º–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
  return <PhotoWithControls />;
}

// –†–µ–Ω–¥–µ—Ä–∏–º —Ñ–æ—Ä–º—É –∑–∞–≥—Ä—É–∑–∫–∏
return <UploadForm />;
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### **–ü–∞—Ç—Ç–µ—Ä–Ω —Ä–µ—à–µ–Ω–∏—è:**
1. **–°–µ—Ä–≤–µ—Ä** - –≤—Å–µ–≥–¥–∞ —Ä–µ–Ω–¥–µ—Ä–∏—Ç —Å—Ç–∞—Ç–∏—á–Ω—ã–π placeholder
2. **–ö–ª–∏–µ–Ω—Ç (–¥–æ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)** - —Ä–µ–Ω–¥–µ—Ä–∏—Ç —Ç–æ—Ç –∂–µ —Å—Ç–∞—Ç–∏—á–Ω—ã–π placeholder
3. **–ö–ª–∏–µ–Ω—Ç (–ø–æ—Å–ª–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)** - —Ä–µ–Ω–¥–µ—Ä–∏—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

### **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å** - –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π HTML –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏ –∫–ª–∏–µ–Ω—Ç–µ
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –Ω–µ—Ç –ª–∏—à–Ω–∏—Ö –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–æ–≤
- **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - –Ω–µ—Ç –æ—à–∏–±–æ–∫ –≥–∏–¥—Ä–∞—Ç–∞—Ü–∏–∏

### **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è:**
```typescript
export default function PhotoThumbnail({ photoUrl, onPhotoChange, onViewGallery }) {
  const [mounted, setMounted] = useState(false);
  
  useEffect(() => {
    setMounted(true);
  }, []);

  // –°—Ç–∞—Ç–∏—á–Ω—ã–π placeholder –¥–æ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
  if (!mounted) {
    return <StaticPlaceholder />;
  }

  // –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ—Å–ª–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
  if (photoUrl) {
    return <PhotoWithControls />;
  }

  return <UploadForm />;
}
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### **–®–∞–≥–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
1. **–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞** `http://localhost:3000/shipments/new`
2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É** - –Ω–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏
3. **–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä** - PhotoThumbnail –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
4. **–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ** - —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç
5. **–û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É** - –Ω–µ—Ç –æ—à–∏–±–æ–∫ –≥–∏–¥—Ä–∞—Ç–∞—Ü–∏–∏

### **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –≥–∏–¥—Ä–∞—Ç–∞—Ü–∏–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
- ‚úÖ PhotoThumbnail –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—Ç
- ‚úÖ Hover —ç—Ñ—Ñ–µ–∫—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

### ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ –≥–∏–¥—Ä–∞—Ç–∞—Ü–∏–∏:**
- **–°—Ç–∞—Ç–∏—á–Ω—ã–π placeholder** - –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏ –∫–ª–∏–µ–Ω—Ç–µ
- **–£—Å–ª–æ–≤–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥** - —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å** - –Ω–µ—Ç —Ä–∞–∑–ª–∏—á–∏–π –≤ HTML

### ‚úÖ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- **–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ** - —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- **–ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è** - —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—Ç
- **Hover —ç—Ñ—Ñ–µ–∫—Ç—ã** - —Ä–∞–±–æ—Ç–∞—é—Ç
- **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞

### ‚úÖ **–£–ª—É—á—à–µ–Ω–∞ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å:**
- **–ù–µ—Ç –æ—à–∏–±–æ–∫ –≥–∏–¥—Ä–∞—Ç–∞—Ü–∏–∏** - —Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
- **UX** - –ø–ª–∞–≤–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

–¢–µ–ø–µ—Ä—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `PhotoThumbnail` —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫ –≥–∏–¥—Ä–∞—Ç–∞—Ü–∏–∏ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å! üéâ
