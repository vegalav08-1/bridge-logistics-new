# üîß –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç: –ü–æ–ª–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ —Å undefined –º–∞—Å—Å–∏–≤–∞–º–∏

## üéØ –ü—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã

### 1. **–û—à–∏–±–∫–∏ —Å undefined –º–∞—Å—Å–∏–≤–∞–º–∏ –≤ ItemsList**
```
TypeError: items is not iterable
Source: src/components/forms/ItemsList.tsx (26:18) @ items
```

### 2. **–û—à–∏–±–∫–∏ —Å undefined –º–∞—Å—Å–∏–≤–∞–º–∏ –≤ BoxesList**
```
TypeError: boxes is not iterable
Source: src/components/forms/BoxesList.tsx (28:18) @ boxes
```

### 3. **–û—à–∏–±–∫–∏ —Å undefined –º–∞—Å—Å–∏–≤–∞–º–∏ –≤ reduce()**
```
TypeError: Cannot read properties of undefined (reading 'reduce')
```

### 4. **–û—à–∏–±–∫–∏ —Å undefined –º–∞—Å—Å–∏–≤–∞–º–∏ –≤ map()**
```
TypeError: Cannot read properties of undefined (reading 'map')
```

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã fallback –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è spread –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤**
```typescript
// ItemsList.tsx
onChange([...(items || []), newItem]);
const newItems = (items || []).filter(item => item.id !== id);
const newItems = (items || []).map(item => ...);

// BoxesList.tsx
onChange([...(boxes || []), newBox]);
const newBoxes = (boxes || []).filter(box => box.id !== id);
const newBoxes = (boxes || []).map(box => ...);
```

### 2. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã fallback –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è reduce()**
```typescript
// ItemsList.tsx
const total = (itemsList || []).reduce((sum, item) => sum + (item.quantity * item.price), 0);

// BoxesList.tsx
const total = (boxesList || []).reduce((sum, box) => {
  const volume = (box.dimensions.length * box.dimensions.width * box.dimensions.height) / 1000000;
  return sum + volume;
}, 0);
```

### 3. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã fallback –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è map()**
```typescript
// ItemsList.tsx –∏ BoxesList.tsx
{(items || []).map((item, index) => (
{(boxes || []).map((box, index) => (
```

### 4. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã fallback –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–æ–∫ –¥–ª–∏–Ω—ã**
```typescript
// ItemsList.tsx –∏ BoxesList.tsx
{(items || []).length > 1 && (
{(boxes || []).length > 1 && (
{(items || []).length === 0 && (
{(boxes || []).length === 0 && (
```

### 5. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —É—Å–ª–æ–≤–Ω—ã–µ p —Ç–µ–≥–∏ —Å –æ—à–∏–±–∫–∞–º–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏**
```typescript
// ItemsList.tsx –∏ BoxesList.tsx
{(errors || {})[`items.${index}.name`] && (
  <p className="text-red-500 text-xs mt-1">{(errors || {})[`items.${index}.name`]}</p>
)}

// LegalEntityForm.tsx –∏ IndividualForm.tsx
{errors?.phone && <p className="text-red-500 text-xs mt-1">{errors.phone}</p>}
```

## üîÑ –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### **–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –º–∞—Å—Å–∏–≤–∞–º–∏:**
1. **–ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ –º–∞—Å—Å–∏–≤–∞** - –µ—Å–ª–∏ `undefined` –∏–ª–∏ `null`, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `[]`
2. **spread –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç** - `[...(array || [])]` –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤
3. **map(), filter(), reduce() –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –±–µ–∑–æ–ø–∞—Å–Ω–æ** - –Ω–∞ –ø—É—Å—Ç–æ–º –º–∞—Å—Å–∏–≤–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
4. **–î–ª–∏–Ω–∞ –º–∞—Å—Å–∏–≤–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è** - `(array || []).length` –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —á–∏—Å–ª–æ

### **–ü—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏:**
1. **–ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ –æ–±—ä–µ–∫—Ç–∞ errors** - –µ—Å–ª–∏ `undefined` –∏–ª–∏ `null`, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `{}`
2. **–ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –æ—à–∏–±–∫–∏** - `(errors || {})[fieldName]` –∏–ª–∏ `errors?.fieldName`
3. **p —Ç–µ–≥ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –æ—à–∏–±–∫–∏** - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ
4. **–°–µ—Ä–≤–µ—Ä –∏ –∫–ª–∏–µ–Ω—Ç —Ä–µ–Ω–¥–µ—Ä—è—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ** - –Ω–µ—Ç –æ—à–∏–±–æ–∫ –≥–∏–¥—Ä–∞—Ç–∞—Ü–∏–∏

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### **–®–∞–≥–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
1. **–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞** `http://localhost:3000/shipments/new`
2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É** - –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫
3. **–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä—ã** - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
4. **–î–æ–±–∞–≤–∏—Ç—å –∫–æ—Ä–æ–±–∫–∏** - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
5. **–ò–∑–º–µ–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è** - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–∞—Å—á–µ—Ç—ã
6. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å** - –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫

### **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ —Å undefined –º–∞—Å—Å–∏–≤–∞–º–∏
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –≥–∏–¥—Ä–∞—Ç–∞—Ü–∏–∏
- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–∞—Å—á–µ—Ç—ã —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—Ç
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

### ‚úÖ **–í—Å–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã:**
- –î–æ–±–∞–≤–ª–µ–Ω—ã fallback –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö –º–∞—Å—Å–∏–≤–æ–≤
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ spread –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ map(), filter(), reduce()
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —É—Å–ª–æ–≤–Ω—ã–µ p —Ç–µ–≥–∏ —Å –æ—à–∏–±–∫–∞–º–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω—ã –æ—à–∏–±–∫–∏ –≥–∏–¥—Ä–∞—Ç–∞—Ü–∏–∏

### ‚úÖ **–£–ª—É—á—à–µ–Ω–∏—è:**
- –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –º–∞—Å—Å–∏–≤–∞–º–∏ –∏ –æ–±—ä–µ–∫—Ç–∞–º–∏
- –£–ª—É—á—à–µ–Ω–Ω–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Ñ–æ—Ä–º
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –≥–∏–¥—Ä–∞—Ç–∞—Ü–∏–∏
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—É—Å—Ç—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π
- –ù–∞–¥–µ–∂–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å undefined –∑–Ω–∞—á–µ–Ω–∏—è–º–∏

### ‚úÖ **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- –í—Å–µ —Ñ–æ—Ä–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
- –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–∞—Å—á–µ—Ç—ã —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—Ç
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç

–¢–µ–ø–µ—Ä—å –≤—Å–µ —Ñ–æ—Ä–º—ã –≤ —Å–∏—Å—Ç–µ–º–µ —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –æ—à–∏–±–æ–∫ —Å undefined –º–∞—Å—Å–∏–≤–∞–º–∏ –∏ –≥–∏–¥—Ä–∞—Ç–∞—Ü–∏–µ–π! üéâ
