# üì∏ –û—Ç—á–µ—Ç: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ñ–æ—Ç–æ –¥–ª—è —Ç–æ–≤–∞—Ä–Ω—ã—Ö –±–ª–æ–∫–æ–≤

## üéØ –ó–∞–¥–∞—á–∞
–î–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–≥—Ä—É–∂–∞—Ç—å –¥–æ 3 —Ñ–æ—Ç–æ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–Ω–æ–≥–æ –±–ª–æ–∫–∞ –∏ —Å–æ–∑–¥–∞—Ç—å –º–µ–Ω–µ–¥–∂–µ—Ä —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞.

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### **1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º—ã —Ç–æ–≤–∞—Ä–∞**
```typescript
// apps/web/src/lib/forms/validators.ts
export const itemSchema = z.object({
  id: z.string(),
  name: z.string().min(1, '–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ'),
  quantity: z.coerce.number().positive('–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –±–æ–ª—å—à–µ 0'),
  price: z.coerce.number().positive('–¶–µ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –±–æ–ª—å—à–µ 0'),
  oldTracking: z.string().optional(),
  photos: z.array(z.string()).max(3, '–ú–∞–∫—Å–∏–º—É–º 3 —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏').default([]),
});
```

### **2. –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≥–∞–ª–µ—Ä–µ–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π**
```typescript
// apps/web/src/components/forms/PhotoGallery.tsx
interface PhotoGalleryProps {
  photos: string[];
  isOpen: boolean;
  onClose: () => void;
  initialIndex?: number;
}
```

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –≥–∞–ª–µ—Ä–µ–∏:**
- **–ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä** —Å —Ç–µ–º–Ω—ã–º —Ñ–æ–Ω–æ–º
- **–ù–∞–≤–∏–≥–∞—Ü–∏—è** —Å—Ç—Ä–µ–ª–∫–∞–º–∏ –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π (‚Üê ‚Üí Escape)
- **–ó—É–º** –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–∫–ª–∏–∫ –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è/—É–º–µ–Ω—å—à–µ–Ω–∏—è)
- **–°–∫–∞—á–∏–≤–∞–Ω–∏–µ** —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
- **–ú–∏–Ω–∏–∞—Ç—é—Ä—ã** –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** –æ —Ç–µ–∫—É—â–µ–º —Ñ–æ—Ç–æ (1 –∏–∑ 3)

### **3. –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ñ–æ—Ç–æ**
```typescript
// apps/web/src/components/forms/MultiPhotoThumbnail.tsx
interface MultiPhotoThumbnailProps {
  photos: string[];
  onPhotosChange: (photos: string[]) => void;
  maxPhotos?: number;
}
```

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:**
- **–ó–∞–≥—Ä—É–∑–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤** (–¥–æ 3 —Ñ–æ—Ç–æ)
- **–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä** –º–∏–Ω–∏–∞—Ç—é—Ä
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ç–æ** (–ø—Ä–æ—Å–º–æ—Ç—Ä, —É–¥–∞–ª–µ–Ω–∏–µ)
- **–û—Ç–∫—Ä—ã—Ç–∏–µ –≥–∞–ª–µ—Ä–µ–∏** –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
- **–°—á–µ—Ç—á–∏–∫ —Ñ–æ—Ç–æ** (1 –∏–∑ 3)

### **4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ ItemsList**
```typescript
// –ó–∞–º–µ–Ω–∞ PhotoThumbnail –Ω–∞ MultiPhotoThumbnail
<MultiPhotoThumbnail
  photos={item.photos || []}
  onPhotosChange={(photos) => updateItem(item.id, 'photos', photos)}
  maxPhotos={3}
/>
```

### **5. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ –≥–∏–¥—Ä–∞—Ç–∞—Ü–∏–∏**
```typescript
// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è mounted –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π
const [mounted, setMounted] = useState(false);

// –£—Å–ª–æ–≤–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–∞
{mounted && item.name ? item.name : `–¢–æ–≤–∞—Ä ${index + 1}`}
```

## üé® UX —É–ª—É—á—à–µ–Ω–∏—è

### **–í–∏–∑—É–∞–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã:**
- **–ú–∏–Ω–∏–∞—Ç—é—Ä—ã 64x64px** —Å –∑–∞–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–º–∏ —É–≥–ª–∞–º–∏
- **Hover —ç—Ñ—Ñ–µ–∫—Ç—ã** –¥–ª—è –∫–Ω–æ–ø–æ–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è** (–∑–∞–≥—Ä—É–∑–∫–∞, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–æ—Ç–æ)
- **–ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã** –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏

### **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:**
- **Drag & Drop** –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
- **–ö–ª–∞–≤–∏–∞—Ç—É—Ä–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è** –≤ –≥–∞–ª–µ—Ä–µ–µ
- **–ó—É–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
- **–°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–æ—Ç–æ** –æ–¥–Ω–∏–º –∫–ª–∏–∫–æ–º

### **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ç–æ:**
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ** - –∫–ª–∏–∫ –Ω–∞ –ø–ª—é—Å –∏–ª–∏ drag & drop
- **–ü—Ä–æ—Å–º–æ—Ç—Ä** - –∫–ª–∏–∫ –Ω–∞ –º–∏–Ω–∏–∞—Ç—é—Ä—É
- **–£–¥–∞–ª–µ–Ω–∏–µ** - –∫–Ω–æ–ø–∫–∞ X –Ω–∞ hover
- **–ì–∞–ª–µ—Ä–µ—è** - –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:**
```typescript
interface ItemInput {
  id: string;
  name: string;
  quantity: number;
  price: number;
  oldTracking?: string;
  photos: string[]; // –ú–∞—Å—Å–∏–≤ URL —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
}
```

### **–í–∞–ª–∏–¥–∞—Ü–∏—è:**
- **–ú–∞–∫—Å–∏–º—É–º 3 —Ñ–æ—Ç–æ** –Ω–∞ —Ç–æ–≤–∞—Ä
- **–¢–æ–ª—å–∫–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è** (accept="image/*")
- **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** (multiple)
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞** –∏ —Ç–∏–ø–∞ —Ñ–∞–π–ª–∞

### **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- **–õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è URL** —Å `URL.createObjectURL`
- **–û—á–∏—Å—Ç–∫–∞ –ø–∞–º—è—Ç–∏** –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Ñ–æ—Ç–æ
- **–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —É—Ç–µ—á–µ–∫** —Å `useEffect` cleanup

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### **–®–∞–≥–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
1. **–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞** `http://localhost:3000/shipments/new`
2. **–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä** - –ø–æ—è–≤–∏—Ç—Å—è –±–ª–æ–∫ —Å –∫–Ω–æ–ø–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ
3. **–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ** - –∫–ª–∏–∫ –Ω–∞ –ø–ª—é—Å –∏–ª–∏ drag & drop
4. **–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≥–∞–ª–µ—Ä–µ—é** - –∫–ª–∏–∫ –Ω–∞ –º–∏–Ω–∏–∞—Ç—é—Ä—É
5. **–ù–∞–≤–∏–≥–∞—Ü–∏—è** - —Å—Ç—Ä–µ–ª–∫–∏, –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞, –º–∏–Ω–∏–∞—Ç—é—Ä—ã
6. **–ó—É–º** - –∫–ª–∏–∫ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è
7. **–£–¥–∞–ª–µ–Ω–∏–µ** - –∫–Ω–æ–ø–∫–∞ X –Ω–∞ hover

### **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ 3 —Ñ–æ—Ç–æ –Ω–∞ —Ç–æ–≤–∞—Ä
- ‚úÖ –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –º–∏–Ω–∏–∞—Ç—é—Ä
- ‚úÖ –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–∞—è –≥–∞–ª–µ—Ä–µ—è —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π
- ‚úÖ –ó—É–º –∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–æ—Ç–æ
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ç–æ (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ)
- ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—à–∏–±–æ–∫ –≥–∏–¥—Ä–∞—Ç–∞—Ü–∏–∏

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

### ‚úÖ **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ñ–æ—Ç–æ:**
- **–î–æ 3 —Ñ–æ—Ç–æ** –Ω–∞ –∫–∞–∂–¥—ã–π —Ç–æ–≤–∞—Ä
- **–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä** –º–∏–Ω–∏–∞—Ç—é—Ä
- **–ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–∞—è –≥–∞–ª–µ—Ä–µ—è** –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ç–æ** (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ, –ø—Ä–æ—Å–º–æ—Ç—Ä)

### ‚úÖ **–£–ª—É—á—à–µ–Ω–Ω—ã–π UX:**
- **–ò–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–æ—Ç–æ
- **–ë—ã—Å—Ç—Ä–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è** –º–µ–∂–¥—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
- **–ó—É–º –∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ** –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
- **–í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å** –¥–ª—è –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π

### ‚úÖ **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å:**
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ –≥–∏–¥—Ä–∞—Ç–∞—Ü–∏–∏** —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º `mounted`
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** —Å –ª–µ–Ω–∏–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–æ–π
- **–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏** —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –æ—á–∏—Å—Ç–∫–æ–π
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** —Å Zod —Å—Ö–µ–º–∞–º–∏

–¢–µ–ø–µ—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å –¥–æ 3 —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ –∏ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∏—Ö –≤ —É–¥–æ–±–Ω–æ–π –≥–∞–ª–µ—Ä–µ–µ! üì∏‚ú®
