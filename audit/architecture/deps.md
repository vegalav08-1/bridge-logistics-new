# üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑ Bridge ERP

## üìä –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ú–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
```
Bridge/
‚îú‚îÄ‚îÄ apps/web/           # Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (Frontend + API)
‚îú‚îÄ‚îÄ packages/
‚îÇ   ‚îú‚îÄ‚îÄ api/           # API –ª–æ–≥–∏–∫–∞ –∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ db/            # Prisma —Å—Ö–µ–º–∞ –∏ –º–∏–≥—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ files/         # S3/MinIO –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ shared/        # –û–±—â–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ —É—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ ui/            # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ realtime/      # WebSocket —Å–µ—Ä–≤–∏—Å
‚îÇ   ‚îî‚îÄ‚îÄ search/        # –ü–æ–∏—Å–∫–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
```

## üîó –ö–∞—Ä—Ç–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### Core –º–æ–¥—É–ª–∏ (–ù–ï –¢–†–û–ì–ê–¢–¨ –±–µ–∑ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏—è)
- **`packages/db/`** - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ Prisma —Å—Ö–µ–º–∞
- **`packages/shared/constants.ts`** - –§–∏—á–µ-—Ñ–ª–∞–≥–∏ –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
- **`apps/web/middleware.ts`** - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- **`packages/api/src/state/transitions.ts`** - FSM –ª–æ–≥–∏–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤

### Auxiliary –º–æ–¥—É–ª–∏ (–º–æ–∂–Ω–æ —É–ª—É—á—à–∞—Ç—å)
- **`packages/files/`** - –§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
- **`packages/ui/`** - UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **`packages/realtime/`** - WebSocket —Å–µ—Ä–≤–∏—Å
- **`packages/search/`** - –ü–æ–∏—Å–∫–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞

### Legacy/Test –º–æ–¥—É–ª–∏ (—Ç—Ä–µ–±—É—é—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏)
- **`test-*.cjs`** - –¢–µ—Å—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
- **`scripts/`** - –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

## üß© –õ–æ–≥–∏—á–µ—Å–∫–∏–µ —Å–≤—è–∑–∏

### 1. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
```
User ‚Üí Session ‚Üí JWT Token ‚Üí Middleware ‚Üí API Routes
```

### 2. –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –æ—Ç–≥—Ä—É–∑–æ–∫
```
Request ‚Üí Chat ‚Üí Shipment ‚Üí Status Transitions ‚Üí Notifications
```

### 3. –§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
```
Upload ‚Üí S3/MinIO ‚Üí Attachment ‚Üí Message ‚Üí Chat
```

### 4. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
```
Action ‚Üí Notification Service ‚Üí WebSocket ‚Üí UI Update
```

## ‚ö†Ô∏è –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### 1. –¶–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- **–ü—Ä–æ–±–ª–µ–º–∞**: `@yp/api` ‚Üí `@yp/db` ‚Üí `@yp/shared` ‚Üí `@yp/api`
- **–†–µ—à–µ–Ω–∏–µ**: –í—ã–Ω–µ—Å—Ç–∏ –æ–±—â–∏–µ —Ç–∏–ø—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–∞–∫–µ—Ç

### 2. –°–º–µ—à–∞–Ω–Ω–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
- **–ü—Ä–æ–±–ª–µ–º–∞**: `apps/web` —Å–æ–¥–µ—Ä–∂–∏—Ç –∏ Frontend, –∏ API –ª–æ–≥–∏–∫—É
- **–†–µ—à–µ–Ω–∏–µ**: –†–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 3. –¢–µ—Å–Ω–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å
- **–ü—Ä–æ–±–ª–µ–º–∞**: FSM –ª–æ–≥–∏–∫–∞ –∂–µ—Å—Ç–∫–æ —Å–≤—è–∑–∞–Ω–∞ —Å Prisma
- **–†–µ—à–µ–Ω–∏–µ**: –°–æ–∑–¥–∞—Ç—å –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

### 1. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- –í—ã–Ω–µ—Å—Ç–∏ API –ª–æ–≥–∏–∫—É –∏–∑ `apps/web` –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å
- –°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–∞–∫–µ—Ç –¥–ª—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
- –†–∞–∑–¥–µ–ª–∏—Ç—å UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ –¥–æ–º–µ–Ω–∞–º

### 2. –£–ª—É—á—à–µ–Ω–∏–µ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç–∏
- –°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –î–æ–±–∞–≤–∏—Ç—å dependency injection
- –£–ª—É—á—à–∏—Ç—å –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ç–µ—Å—Ç–∞—Ö

### 3. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å lazy loading –¥–ª—è –±–æ–ª—å—à–∏—Ö –º–æ–¥—É–ª–µ–π

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

- **–¶–∏–∫–ª–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: –°—Ä–µ–¥–Ω—è—è
- **–°–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å**: –í—ã—Å–æ–∫–∞—è (—Ç—Ä–µ–±—É–µ—Ç —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞)
- **–°—Ü–µ–ø–ª–µ–Ω–∏–µ**: –°—Ä–µ–¥–Ω–µ–µ
- **–ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –•–æ—Ä–æ—à–µ–µ

## üîß –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

- **madge** - –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- **dependency-cruiser** - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- **nx** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–º
- **lerna** - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–∫–µ—Ç–∞–º–∏
